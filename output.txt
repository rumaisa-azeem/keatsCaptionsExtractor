
Hello, welcome back. Hopefully you have now tried out the ticket machine project for yourself and played around with the project a bit. Let me put that back on screen here. This is where we were just at the end of the previous video. And I have asked you to try to find some problems with the ticket machine. And so we will go on and discuss some of them now and see, whether you have actually found some of them. So let us see. The first thing is, we might ask: What happens if we don't insert any money or we don't insert enough money and we try to print a ticket. So I can put in just 300 pence. So we can again open this up so that we can see better internally what's happening. So I can see here that I have now only three pounds in here. Let me just clear this. Clear the terminal window so that we can see a little bit better when a ticket is being printed. I will resize this here a bit and move that over here so that you can get a better view of what's going on here. So, we have a situation here where I've got three pounds in it and I now press the Print ticket button. Oh, there we go. A ticket was printed. So what this is showing us is: even if we don't have enough money, the machine still print tickets. So that clearly is a bug. For us as the company running the ticket machines that can lose us money. So if we know, we can print tickets with not enough money in there, well, first of all, let's look at the state. What has happened here? If you have paid attention, there was 1500 in here before, I put in 300 – 3 pounds. It's taken my three pounds and it's given me a ticket for three pounds. What happens if I put only one pound in? Put in one pound... I try to print a ticket... There's my ticket! So even for one pound. What happens if I put no money in at all? So let's clear that again. And let's just say: print a ticket. So pay attention to, we have no money inserted. The balance is 0, I try to print a ticket. I get a ticket! So what we're seeing is: Tickets get printed even if I have inserted no money. Well, if you have a machine like that and you release the software, word will get around really quickly, and in a very short time you're out of business because you're not making any money. People are printing tickets all over the place and you make no money. In your first day, if you didn't find this problem, you're out of a job now. If that was your first day and your boss has asked you: Is the software okay? And you said: Oh yeah, it's fine. That's a disaster.  What else could go wrong? Did you think of anything else to test? Well, now that we've discovered that it works to print a ticket with not enough money in there: What happens if I put too much money in? Let's say I want two tickets, so I insert ten pounds, that's 1000 p.  Here, the balance now is ten pounds. And I print a ticket: printTicket. The ticket has been printed for five pounds. 500 cents it says here.  And here, if I look at the balance, it's taken all my money! So that's not right either. So I should now have, if I had ten pounds in here before, I've printed one 5-pound ticket, I should have five pounds left in the balance so that they could print another ticket. So when you insert too much, it just takes all your money. At the moment for the customers not a big disaster because you can print more tickets for no money at all. But if the first bug didn't exist, you would have a number of really annoyed people in there were who put in a 20-pound note and then the machine swallows all their money for a single ticket. Well, we can solve that by putting a big sticker on our machine that says "No change given". That saves us a bit of trouble, but it would leave us with a lot of unhappy customers. What else could go wrong? Let's say, here, for example: What if we insert a negative amount? So I say insert amount, I put in -700. What should happen here? Well, inserting a negative amount, when you think about inserting money into a machine, makes no sense at all. So we would expect that that doesn't really work and it just worked. It just said my balance now is minus 700. And look, the total collected was 2900. If I now print a ticket... Woah, the total is 2200! It has actually taken out seven pounds off my machine. I don't know what that would look like physically, you know, whether it actually spits out money out of the machine. But clearly that's not something that makes sense in terms of a ticket machine. So that is really another bug in our software. Our software should not accept negative amounts as a parameter to our insertMoney, because inserting a negative amount makes no sense. So if a negative parameter comes in, we know there's something going wrong with our software. It should probably catch that and do something reasonable in return. So with these four methods, we have seen that both the printTicket method and the insertMoney method is clearly not correct, not as it should be. The printTicket method prints tickets independent of whether there's any money in there. The insertMoney method accepts parameters that are invalid. So that is something clearly that we need to fix. So when we look at the source code of the software, in the next video, we will look at not only understanding what's going on, we will also look at how to fix the shortcomings that we have discovered in the software. That's it for this video. See you in the next one. Bye-bye.
